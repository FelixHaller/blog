<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üë®‚Äçüíª</text></svg>"><title>Connecting android apps to localhost, simplified</title><meta name="title" content="Connecting android apps to localhost, simplified"><meta name="description" content="Figure out how to setup your android development environment, the right way."><meta property="og:type" content="website"><meta property="og:url" content="https://sadh.life"><meta property="og:title" content="Connecting android apps to localhost, simplified"><meta property="og:description" content="Figure out how to setup your android development environment, the right way."><meta property="og:image" content="https://sadh.life/images/android-localhost.jpg"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://sadh.life"><meta property="twitter:title" content="Connecting android apps to localhost, simplified"><meta property="twitter:description" content="Figure out how to setup your android development environment, the right way."><meta property="twitter:image" content="https://sadh.life/images/android-localhost.jpg"><link rel="stylesheet" href="/_astro/common-ZWF5Y9.css" type="text/css"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;600&amp;family=Open+Sans:wght@400;600&amp;display=swap"></head><body><header class="astro-mYHAcGzO"><a href="/" class="astro-mYHAcGzO"><svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" width="400" height="400" version="1.1" class="astro-mYHAcGzO"><g class="astro-mYHAcGzO"><rect width="380" height="380" x="10" y="10" stroke="var(--text-color)" stroke-width="18" rx="18" fill-opacity="0" class="astro-mYHAcGzO"></rect><text x="52.5" y="357.427" font-family="sans-serif" font-size="250" font-weight="bold" text-anchor="start" transform="matrix(0.946786642074585,0,0,1.0035842657089233,19.687279514968395,-1.4603642597794533)" xml:space="preserve" style="stroke: var(--text-color); fill: var(--text-color)" class="astro-mYHAcGzO">TS</text></g></svg></a><div class="right astro-mYHAcGzO"><astro-root uid="x5IoH"><div style="display: flex;"><input id="switch-4203" type="checkbox"><label for="switch-4203"></label></div></astro-root>
<script type="module">
import setup from '/_astro_frontend/hydrate/load.js';
setup("x5IoH", {}, async () => {
  
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("/_astro/src/components/ThemeSwitch/Switch.js"), import("/_snowpack/pkg/@astrojs.renderer-preact.client.v0.2.1.js")]);
  return (el, children) => hydrate(el)(Component, {}, children);

});
</script></div></header><div class="layout astro-eZ0V7RoP"><article class="content astro-eZ0V7RoP"><div class="astro-eZ0V7RoP"><header class="astro-eZ0V7RoP"><p class="publish-date astro-eZ0V7RoP">Saturday, 17 April 2021</p><h1 class="title astro-eZ0V7RoP">Connecting android apps to localhost, simplified</h1><img src="/images/android-localhost.jpg" alt="Connecting android apps to localhost, simplified" class="astro-eZ0V7RoP"><div class="author astro-vgbcRyj4"><p class="astro-vgbcRyj4"><a href="https://tusharsadhwani.dev" class="astro-vgbcRyj4">@tusharsadhwani</a></p></div></header><main class="astro-eZ0V7RoP"><blockquote><p>P.S. if you‚Äôre in a hurry, find the correct solution <a href="#the-correct-easy-way">here</a></p></blockquote><p>I was working on a full stack side project a few months ago, and I wanted to make API requests from my android app to my desktop, and for some reason <code>localhost:8000</code> wasn‚Äôt simply accessible by my phone.</p><p>Well, understandable, I know that every device‚Äôs localhost is independent and cannot be accessed by your home network (your Wi-Fi, for example). So the localhost on my laptop won‚Äôt be able to access the localhost on my phone.</p><p>So, I asked Google for help. And I got a large number of solutions, the most sensible one being ‚Äúuse the internal IP address of your PC‚Äù, et voil√†.</p><h1 id="the-bad-way">The Bad way</h1><p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tgakgpfuw4eyvjud9tin.png" alt="image"></p><figcaption>Use ipconfig if you're on windows</figcaption><p>Running <code>ip addr</code> on my machine tells me that the laptop‚Äôs internal IP is <code>192.168.29.76</code>.</p><p>And sure enough, as long as both devices were using the same Wi-Fi network, accessing <code>http://192.168.29.76:8000</code> instead of <code>http://localhost:8000</code> did work. My Android app can now make web requests to my local backend server üéâ</p><p>But this solution is‚Ä¶ a bit unstable.</p><p>The internal IP of your laptop can keep changing whenever it connects to Wi-Fi, depending on various factors. And everytime it changes, you have to change the URL in your app‚Äôs code, which is not ideal.</p><p>There‚Äôs other ways as well like using ngrok, but it faces similar issues.</p><h1 id="the-correct-easy-way">The Correct, easy way</h1><p>use <code>adb reverse</code>.</p><p>Yup, that‚Äôs it.</p><p>Connect your android device to your pc via USB, ensure you have <a href="https://www.xda-developers.com/install-adb-windows-macos-linux/">adb setup</a>, and run this in your terminal:</p><pre class=""><code class="language-bash">adb reverse tcp:8000 tcp:8000
</code></pre><p>Now, your mobile can access <code>localhost:8000</code>, just like your PC. (you can replace <code>8000</code> with whichever port you want to forward)</p><h1 id="why-did-nobody-tell-me-this">Why did nobody tell me this?</h1><p>Yeah, I was also surprised when I was unable to find anyone on Google or StackOverflow mentioning the existence of <code>adb reverse</code> when I tried to look for it.</p><p>Which is why I wrote this blog. Now hopefully, <code>adb reverse</code> will become more popular.</p><p>If you know why <code>adb reverse</code> isn‚Äôt as popular, let me know. Also, if you know another android developer that should know about this little productivity hack, why not share this blog with them? :P</p><hr><p>Cover image courtesy of <a href="https://unsplash.com/@ffstop?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Fotis Fotopoulos</a> on <a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p></main></div></article></div><script src="https://utteranc.es/client.js" repo="tusharsadhwani/blog-comments" issue-term="title" theme="dark-blue" crossorigin="anonymous" async=""></script></body></html>